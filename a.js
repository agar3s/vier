!function(){function n(){o.clearRect(-x.x,x.y,u.w,u.h),Y.ag(),B.ag(),C.ag(),L.S.ag(),C.b(.8),Y.v(C),P.d(),L.S.b(.8),Y.v(L.S),L.d();for(var a=v.length-1;a>=0;a--)v[a].c(),v[a].S.ag(),M%4==0&&v[a].ah(),v[a].ai&&v.splice(a,1);M%8==0&&(B.u(),M=0),B.c(),M%2==0&&(C.ah(),L.S.ah()),P.aj(),P.S.x>300+x.x&&P.S.x-300<Y.w-u.w?(x.x-=P.S.vx,xxx=-P.S.vx):xxx=0,yyy=0,x.y-x.oY<-u.h&&P.S.y+x.oY+16*f>x.y+u.h&&P.S.vy>0?yyy=-P.S.vy:P.S.y-x.oY<x.y&&(P.S.vy<0?yyy=-P.S.vy:0==P.S.vy&&(yyy=R-P.S.y)),x.y-=yyy,R=P.S.y,o.translate(xxx,yyy),M++,requestAnimationFrame(n)}var a=document;a.get=a.getElementById;var t,e,i=a.get("c"),o=i.getContext("2d"),f=4,c=16,r=15,u={w:1024,h:720},x={x:0,y:-720,oY:250},y=(window.innerHeight-100)/u.h;i.width=u.w*y,i.height=u.h*y,o.scale(y,y),o.translate(x.x,-x.y);var v=[],S=[25,115,205,295],d=0,h={37:1,38:2,39:4,40:8,65:16,83:32,68:64,32:128};a.addEventListener("keydown",function(n){var a=n.keyCode?n.keyCode:n.which;h[a]&&(d|=h[a],n.alentDefault())}),a.addEventListener("keyup",function(n){var a=n.keyCode?n.keyCode:n.which;d&h[a]&&(d^=h[a],n.alentDefault())});var l="{f{g{h{i{u!$%056?@ABFORV`bcefostu~,",w='{H{I{X{Y"#$134ACEQSVacdsu~.~1~=~@~M~P~]~^~`~a',s='{I{J{Y{Z"#$134ACERSVcdsu~.~0~=~?~M~O~]~^~_~`',p='{Y{Z{i{j"#$134ACDESVWbcdqru~)~*~+~0~9~A~Q~a~b',g="{Z{[{g{h{i{j{k!#$134ACESTcesu~-~0~=~?~L~O~\\~_",A=["",'~A~>~0tqfUD2{i{h~@~=~1udVE1$#"{I{H',"B65VREA","~@~>tD2('&%{m{j{i~?~=udB651\"{J{I","~_~P~O~J~;~:~,tUB~b~a~Q~9~+~*~)uqWEA",'~`~M~?~>~=~/T2{k{[~P~J~A~;~:~0~,rdbVB1"{i{Y'],m={i:{kf:w,f:[0,0,0,0,0,0,0,0,0,1]},p:{kf:s,f:[2,3,3,2,0,-1]},r:{kf:p,f:[0,4,0,5,0,5,0,4,0]},j:{kf:g,f:[0]}},b=function(n){for(var a=new Int16Array(c),t=0;t<n.length;t++)a[n[t]>>4]|=1<<r-(15&n[t]);return a},k=function(n){var a=this;a.w=new Int16Array(c),a.D=n,a.ab=[],a.ad=0,a.ac="#000",a.x=0,a.y=-720,a.vx=0,a.vy=0,a.downed=0,a.aa=1,a.p=0,a.w=b(a.D),a.maxVx=2.2*f,a.n=.25,a.e=f,a.hp=9,a.u=function(){for(var n=[],t=0;c>t;t++)for(var e=0;c>e;e++)a.w[t]&1<<r-e&&n.push(e*c+r-t);a.D=n,a.w=b(n)},a.addFrame=function(n){a.ab.push(b(n)),a.ad=a.ab.length-1},a.fall=function(){a.y+=a.vy,a.vy<0&&(a.p=0)},a.ah=function(){if(++a.ad>=a.ab.length&&(a.ad=0),"string"==typeof a.ab[a.ad])return a.o(a.ab[a.ad]);for(var n=[],t=0;c>t;t++){a.w[t]=a.w[t]^a.ab[a.ad][t];for(var e=0;c>e;e++)1<<r-e&a.w[t]&&n.push(t*c+e)}a.D=n},a.xi=function(){return a.x+5*a.e},a.xf=function(){return a.x+11*a.e},a.yi=function(){return a.y+2*a.e},a.yil=function(){return a.y+12*a.e},a.yf=function(){return a.y+16*a.e},a.b=function(n){a.vy+=n,a.vy>3*a.e&&(a.vy=3*a.e)},a.land=function(n){a.p||a.o("i"),a.vy=0,a.p=1,a.z=1,a.downed=0,a.y=n-15*a.e},a.l=function(){a.vx>0&&(a.vx=0),a.vx-=a.n,a.p&&a.o("r"),a.vx<-a.maxVx&&(a.vx=-a.maxVx),a.aa=0},a.h=function(){a.vx<0&&(a.vx=0),a.vx+=a.n,a.p&&a.o("r"),a.vx>a.maxVx&&(a.vx=a.maxVx),a.aa=1},a.forward=function(){a.aa?a.h():a.l()},a.turn=function(){a.aa=!a.aa},a.g=function(){0!=a.vx&&(a.vx=0,a.o("i"))},a.ak=function(){(a.p||a.z)&&(a.vy=3*-a.e,a.p||(a.z=0),a.p=0,a.o("j"))},a.down=function(){!a.downed},a.up=function(){},a.d=function(){a.fall(),a.x+=a.vx},a.c=function(){a.x+=a.vx},a.ag=function(){o.fillStyle=a.ac;for(var n=0;n<a.D.length;n++){var t=15&a.D[n];o.fillRect(a.x+(a.aa?t:15-t)*a.e,a.y+(a.D[n]>>4)*a.e,a.e,a.e)}},a.o=function(n){if(a.t!=n){a.t=n,a.ab=[];var t=m[n].f;for(a.w=b(D(m[n].kf)),e=0;e<t.length;e++){var i=A[t[e]];if(-1==t[e])return a.ad=a.ab.length,a.ab.push("i");a.addFrame(D(i))}}}},D=function(n){for(var a=0,t=n[a],e=[];t;){var i=85;"{"==t[0]&&(t=n[++a],i=0),"~"==t[0]&&(t=n[++a],i=170),e.push(t.charCodeAt()+i-33),t=n[++a]}return e},I=function(n,a,t){var e=this;e.x=n,e.y=a,e.width=t,e.collide=1,e.v=function(n){(n.xi()>e.x&&n.xi()<e.x+e.width||n.xf()>e.x&&n.xf()<e.x+e.width||n.xi()<e.x&&n.xf()>e.x+e.width)&&e.y>n.yil()&&e.y+5<n.yf()&&n.vy>=0?(e.collide=1,n.land(a)):e.collide=0},e.ag=function(){o.fillRect(e.x,e.y,e.width,5)}},V=[],j=function(){var n=this;n.w=1500,n.h=0;var a=20;n.generateLevel=function(){V=[];for(var t=0;t<=n.w;t+=a){var e=t%(2*Math.PI),i=-10*Math.sin(e);n.h=i<n.h?i:n.h,V.push(new I(t,i,a))}},n.generateLevel(),n.ag=function(){var n=~~(-x.x/a);0>n&&(n=0);var e=n+~~(u.w/a);for(e>=V.length&&(e=V.length-1),o.fillStyle="#A4A",t=n;e>=t;t++)V[t].ag()},n.v=function(n){var e=~~(n.xi()/a)-1;0>e&&(e=0);var i=~~(n.xf()/a)+1;for(i>=V.length&&(i=V.length-1),t=e;i>=t;t++)V[t].v(n)},n.agLevel=function(){}},E=function(n){var a=this;a.type=n,0==a.type&&(a.D=D(l)),1==a.type&&(a.D=D(water)),a.S=new k(a.D),a.ai=0,a.S.ac=C.ac,a.S.x=C.x+24,a.S.y=C.y,a.S.e=2,a.S.vx=C.aa?10:-10,a.S.aa=C.aa,a.c=function(){a.S.c(),a.ai=a.S.x>Y.w||a.S.x<-10},a.ah=function(){0==a.type&&a.S.u(),1==a.type&&a.S.u()}},q=function(n,a){var t=this;t.type=n,t.S=a,t.S.ac="#FFF",t.S.o("i"),t.S.e=6,t.f=10,t.w=0,t.a=0,t.e=0,t.S.maxVx=.9*C.maxVx,t.S.x=300,t.actionpipe="",t.setActionPipe=function(n){for(var a="",e=0;e<n.length;e++){var i=n[e],o=parseInt(n.substring(e+1,e+4));if(o){e+=~~Math.log10(o)+1;for(var f=0;o>f;f++)a+=i}else a+=i}t.actionpipe=a},t.setActionPipe("jdw10jdstw10"),t.setActionPipe("lf30sw10tjl"),t.actionIndex=0,t.actions={f:t.S.forward,t:t.S.turn,j:t.S.ak,m:function(){},a:t.attack1,b:t.attack2,c:t.attack3,s:t.S.g,w:function(){},l:function(){t.S.p||t.actionIndex--},d:function(){t.S.p?t.S.g():(t.actionIndex--,t.S.forward())}},t.follow=function(){t.S.x<C.x?t.S.h():t.S.l()},t.away=function(){t.S.x<C.x&&t.S.x>0?t.S.l():t.S.x>C.x&&t.S.x+16*t.S.e<Y.w?t.S.h():t.S.g()},t.amAction=function(){var n=t.actionpipe[t.actionIndex];t.actions[n](),++t.actionIndex>=t.actionpipe.length&&(t.actionIndex=0)},t.d=function(){t.amAction(),t.S.d()}},C=new k(D(w));C.o("i");var F=function(n){var a=this;a.S=n,a.S.e=5,a.af=0,a.q=16,a.s=S[a.af],a.S.ac="hsl("+a.s+",100%, 50%)",a.r=0,a.am=function(){++a.af>3&&(a.af=0),a.r=5,d-=16},a.al=function(){--a.af<0&&(a.af=3),d-=64,a.r=-5},a.an=function(){a.q<=0&&(a.S.o("p"),v.push(new E(0,2)),a.q=16)},a.d=function(){a.S.d(),a.s+=a.r,a.s<0&&(a.s=355),a.s>355&&(a.s=5),a.s!=S[a.af]?a.S.ac="hsl("+a.s+",100%, 50%)":a.r=0,--a.q<0&&(a.q=0)},a.aj=function(){16&d&&a.am(),64&d&&a.al(),8&d&&a.S.down(),2&d&&a.S.up(),128&d&&(a.S.ak(),d^=128),32&d&&a.an(),1&d&&a.S.x>-16?a.S.l():4&d&&a.S.x+16*f<Y.w?a.S.h():a.S.g()}},Y=new j,P=new F(C),B=new k(D(l));B.ac="#E60",B.e=4;var L=new q("F",new k(D(w))),M=0,R=P.S.y;requestAnimationFrame(n)}();