!function(){function n(){o.clearRect(-S.x,S.y,y.w,y.h)}function t(){n(),O.draw(),X.draw(),E.AY(.8),O.CO(E),Y.S.AY(.8),O.CO(Y.S),Y.PD(),E.PD(),M.PD();for(var e=Z.length-1;e>=0;e--)Z[e].PX(),Z[e].S.draw(),j%4==0&&Z[e].animate(),Z[e].outside&&Z.splice(e,1);j%8==0&&(X.RO(),j=0),X.PX(),E.draw(),Y.S.draw(),M.manage(),j%2==0&&(E.animate(),Y.S.animate()),j++,M.S.x>300+S.x&&M.S.x-300<O.w-y.w?(S.x-=M.S.vx,xxx=-M.S.vx):xxx=0,yyy=0,S.y-S.oY<-y.h&&M.S.y+S.oY+16*f>S.y+y.h&&M.S.vy>0?yyy=-M.S.vy:M.S.y-S.oY<S.y&&(M.S.vy<0?yyy=-M.S.vy:0==M.S.vy&&(yyy=J-M.S.y)),S.y-=yyy,J=M.S.y,o.translate(xxx,yyy),requestAnimationFrame(t)}var e=document;e.get=e.getElementById;var i,a,r=e.get("c"),o=r.getContext("2d"),f=4,x=16,u=15,y={w:1024,h:720},S={x:0,y:-720,oY:250},v=(window.innerHeight-100)/y.h;r.width=y.w*v,r.height=y.h*v,o.scale(v,v),o.translate(S.x,-S.y);var c=0,h={37:1,38:2,39:4,40:8,65:16,83:32,68:64,32:128};e.addEventListener("keydown",function(n){var t=n.keyCode?n.keyCode:n.which;h[t]&&(c|=h[t],n.preventDefault())}),e.addEventListener("keyup",function(n){var t=n.keyCode?n.keyCode:n.which;c&h[t]&&(c^=h[t],n.preventDefault())});var d="{f{g{h{i{u!$%056?@ABFORV`bcefostu~,",C='{H{I{X{Y"#$134ACEQSVacdsu~.~1~=~@~M~P~]~^~`~a',w='{I{J{Y{Z"#$134ACERSVcdsu~.~0~=~?~M~O~]~^~_~`',l='{Y{Z{i{j"#$134ACDESVWbcdqru~)~*~+~0~9~A~Q~a~b',A="{Z{[{g{h{i{j{k!#$134ACESTcesu~-~0~=~?~L~O~\\~_",P=["",'~A~>~0tqfUD2{i{h~@~=~1udVE1$#"{I{H',"B65VREA","~@~>tD2('&%{m{j{i~?~=udB651\"{J{I","~_~P~O~J~;~:~,tUB~b~a~Q~9~+~*~)uqWEA",'~`~M~?~>~=~/T2{k{[~P~J~A~;~:~0~,rdbVB1"{i{Y'],s={i:{kf:C,f:[0,0,0,0,0,0,0,0,0,1]},p:{kf:w,f:[2,3,3,2,0,-1]},r:{kf:l,f:[0,4,0,5,0,5,0,4,0]},j:{kf:A,f:[0]}},I=function(n){for(var t=new Int16Array(x),e=0;e<n.length;e++)t[n[e]>>4]|=1<<u-(15&n[e]);return t},R=function(n){var t=this;t.BA=new Int16Array(x),t.D=n,t.FR=[],t.IF=0,t.CR="#000",t.x=0,t.y=-720,t.vx=0,t.vy=0,t.downed=0,t.DI=1,t.LA=0,t.BA=I(t.D),t.maxVx=2.2*f,t.AX=.25,t.PZ=f,t.RO=function(){for(var n=[],e=0;x>e;e++)for(var i=0;x>i;i++)t.BA[e]&1<<u-i&&n.push(i*x+u-e);t.D=n,t.BA=I(n)},t.addFrame=function(n){t.FR.push(I(n)),t.IF=t.FR.length-1},t.fall=function(){t.y+=t.vy,t.vy<0&&(t.LA=0)},t.animate=function(){if(++t.IF>=t.FR.length&&(t.IF=0),"string"==typeof t.FR[t.IF])return t.SA(t.FR[t.IF]);for(var n=[],e=0;x>e;e++){t.BA[e]=t.BA[e]^t.FR[t.IF][e];for(var i=0;x>i;i++)1<<u-i&t.BA[e]&&n.push(e*x+i)}t.D=n},t.xi=function(){return t.x+5*t.PZ},t.xf=function(){return t.x+11*t.PZ},t.yi=function(){return t.y+2*t.PZ},t.yil=function(){return t.y+12*t.PZ},t.yf=function(){return t.y+16*t.PZ},t.AY=function(n){t.vy+=n,t.vy>3*t.PZ&&(t.vy=3*t.PZ)},t.land=function(n){t.LA||t.SA("i"),t.vy=0,t.LA=1,t.CJ=1,t.downed=0,t.y=n-15*t.PZ},t.LE=function(){t.vx>0&&(t.vx=0),t.vx-=t.AX,t.LA&&t.SA("r"),t.vx<-t.maxVx&&(t.vx=-t.maxVx),t.DI=0},t.RI=function(){t.vx<0&&(t.vx=0),t.vx+=t.AX,t.LA&&t.SA("r"),t.vx>t.maxVx&&(t.vx=t.maxVx),t.DI=1},t.SX=function(){0!=t.vx&&(t.vx=0,t.SA("i"))},t.jump=function(){(t.LA||t.CJ)&&(t.vy=3*-t.PZ,t.LA||(t.CJ=0),t.LA=0,t.SA("j"))},t.down=function(){!t.downed},t.up=function(){},t.PD=function(){t.fall(),t.x+t.vx&&(t.x+=t.vx)},t.PX=function(){t.x+=t.vx},t.draw=function(){o.fillStyle=t.CR;for(var n=0;n<t.D.length;n++){var e=15&t.D[n];o.fillRect(t.x+(t.DI?e:15-e)*t.PZ,t.y+(t.D[n]>>4)*t.PZ,t.PZ,t.PZ)}},t.SA=function(n){if(t.CA!=n){t.CA=n,t.FR=[];var e=s[n].f;for(t.BA=I(D(s[n].kf)),a=0;a<e.length;a++){var i=P[e[a]];if(-1==e[a])return t.IF=t.FR.length,t.FR.push("i");t.addFrame(D(i))}}}},D=function(n){for(var t=0,e=n[t],i=[];e;){var a=85;"{"==e[0]&&(e=n[++t],a=0),"~"==e[0]&&(e=n[++t],a=170),i.push(e.charCodeAt()+a-33),e=n[++t]}return i},p=function(n,t,e){var i=this;i.x=n,i.y=t,i.width=e,i.collide=1,i.CO=function(n){(n.xi()>i.x&&n.xi()<i.x+i.width||n.xf()>i.x&&n.xf()<i.x+i.width||n.xi()<i.x&&n.xf()>i.x+i.width)&&i.y>n.yil()&&i.y+5<n.yf()&&n.vy>=0?(i.collide=1,n.land(t)):i.collide=0},i.draw=function(){o.fillRect(i.x,i.y,i.width,5)}},F=[],L=function(){var n=this;n.w=1500,n.h=0;var t=20;n.generateLevel=function(){F=[];for(var e=0;e<=n.w;e+=t){var i=e%(2*Math.PI),a=-10*Math.tan(i)*Math.sin(i)*Math.sin(i);n.h=a<n.h?a:n.h,F.push(new p(e,a,t))}},n.generateLevel(),n.draw=function(){var n=Math.floor(-S.x/t);0>n&&(n=0);var e=n+Math.floor(y.w/t);for(e>=F.length&&(e=F.length-1),o.fillStyle="#A4A",i=n;e>=i;i++)F[i].draw()},n.CO=function(n){var e=Math.floor(n.xi()/t)-1;0>e&&(e=0);var a=Math.floor(n.xf()/t)+1;for(a>=F.length&&(a=F.length-1),i=e;a>=i;i++)F[i].CO(n)},n.drawLevel=function(){}},m=function(n,t){var e=this;e.type=n,e.S=t,e.S.CR="#FFF",e.S.SA("i"),e.S.PZ=15,e.f=10,e.w=0,e.a=0,e.e=0,e.S.maxVx=.9*E.maxVx,e.S.x=300,e.follow=function(){e.S.x<E.x?e.S.RI():e.S.LE()},e.away=function(){e.S.x<E.x&&e.S.x>0?e.S.LE():e.S.x>E.x&&e.S.x+16*e.S.PZ<O.w?e.S.RI():e.S.SX()},e.PD=function(){e.away(),e.S.PD()}},g=D(C),E=new R(g),Z=[],O=new L;E.SA("i");var B=[25,115,205,295],V=function(n){var t=this;t.type=n,0==t.type&&(t.D=D(d)),1==t.type&&(t.D=D(water)),t.S=new R(t.D),t.outside=0,t.S.CR=E.CR,t.S.x=E.x+24,t.S.y=E.y,t.S.PZ=2,t.S.vx=E.DI?10:-10,t.S.DI=E.DI,t.PX=function(){t.S.PX(),t.outside=t.S.x>O.w||t.S.x<-10},t.animate=function(){0==t.type&&t.S.RO(),1==t.type&&t.S.RO()}},k=function(n){var t=this;t.S=n,t.EL=0,t.CO=16,t.CC=B[t.EL],t.S.CR="hsl("+t.CC+",100%, 50%)",t.IC=0,t.next=function(){++t.EL>3&&(t.EL=0),t.IC=5,c-=16},t.prev=function(){--t.EL<0&&(t.EL=3),c-=64,t.IC=-5},t.power=function(){t.CO<=0&&(t.S.SA("p"),Z.push(new V(0,2)),t.CO=16)},t.PD=function(){t.CC+=t.IC,t.CC<0&&(t.CC=355),t.CC>355&&(t.CC=5),t.CC!=B[t.EL]?t.S.CR="hsl("+t.CC+",100%, 50%)":t.IC=0,--t.CO<0&&(t.CO=0)},t.manage=function(){16&c&&t.next(),64&c&&t.prev(),8&c&&t.S.down(),2&c&&t.S.up(),128&c&&(t.S.jump(),c^=128),32&c&&t.power(),1&c&&t.S.x>-16?t.S.LE():4&c&&t.S.x+16*f<O.w?t.S.RI():t.S.SX()}};g=D(d);var X=new R(g);X.CR="#E60";var M=new k(E);X.PZ=4,E.PZ=5;var Y=new m("F",new R(D(C))),j=0,J=M.S.y;requestAnimationFrame(t)}();