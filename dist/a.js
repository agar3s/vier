!function(){function n(){o.fillStyle="#111",o.fillRect(0,0,800,600)}function t(){for(n(),E.DC(),R.DC(),R.AY(.8),R.PD(),Z.PD(),i=0;i<g.length;i++)g[i].draw(),g[i].CO();for(var e=p.length-1;e>=0;e--)p[e].PX(),p[e].S.DC(),B%4==0&&p[e].S.RO(),p[e].outside&&p.splice(e,1);B%8==0&&(E.RO(),B=0),E.PX(),Z.manage(),B%2==0&&R.animate(),B++,requestAnimationFrame(t)}var e=document;e.get=e.getElementById;var i,f,u=e.get("c"),o=u.getContext("2d"),r=4,a=16,c=15,C=0,v={37:1,38:2,39:4,40:8,65:16,83:32,68:64,32:128};e.addEventListener("keydown",function(n){var t=n.keyCode?n.keyCode:n.which;v[t]&&(C|=v[t],n.preventDefault())}),e.addEventListener("keyup",function(n){var t=n.keyCode?n.keyCode:n.which;C&v[t]&&(C^=v[t],n.preventDefault())});var A="{f{g{h{i{u!$%056?@ABFORV`bcefostu~,",d='{H{I{X{Y"#$134ACEQSVacdsu~.~1~=~@~M~P~]~^~`~a',l='{I{J{Y{Z"#$134ACERSVcdsu~.~0~=~?~M~O~]~^~_~`',x='{Y{Z{i{j"#$134ACDESVWbcdqru~)~*~+~0~9~A~Q~a~b',y="{Z{[{g{h{i{j{k!#$134ACESTcesu~-~0~=~?~L~O~\\~_",S=["",'~A~>~0tqfUD2{i{h~@~=~1udVE1$#"{I{H',"B65VREA","~@~>tD2('&%{m{j{i~?~=udB651\"{J{I","~_~P~O~J~;~:~,tUB~b~a~Q~9~+~*~)uqWEA",'~`~M~?~>~=~/T2{k{[~P~J~A~;~:~0~,rdbVB1"{i{Y'],h={i:{kf:d,f:[0,0,0,0,0,0,0,0,0,1]},p:{kf:l,f:[2,3,3,2,0,-1]},r:{kf:x,f:[0,4,0,5,0,5,0,4,0]},j:{kf:y,f:[0]}},s=function(n){for(var t=new Int16Array(a),e=0;e<n.length;e++)t[n[e]>>4]|=1<<c-(15&n[e]);return t},w=function(n){var t=this;t.BA=new Int16Array(a),t.D=n,t.FR=[],t.IF=0,t.CR="#000",t.x=0,t.y=0,t.vx=0,t.vy=0,t.downed=0,t.DI=1,t.LA=0,t.BA=s(t.D),t.maxVx=2.5*r,t.AX=.5,t.PZ=r,t.RO=function(){for(var n=[],e=0;a>e;e++)for(var i=0;a>i;i++)t.BA[e]&1<<c-i&&n.push(i*a+c-e);t.D=n,t.BA=s(n)},t.addFrame=function(n){t.FR.push(s(n)),t.IF=t.FR.length-1},t.fall=function(){t.y+=t.vy,t.vy<0&&(t.LA=0)},t.animate=function(){if(++t.IF>=t.FR.length&&(t.IF=0),"string"==typeof t.FR[t.IF])return t.SA(t.FR[t.IF]);for(var n=[],e=0;a>e;e++){t.BA[e]=t.BA[e]^t.FR[t.IF][e];for(var i=0;a>i;i++)1<<c-i&t.BA[e]&&n.push(e*a+i)}t.D=n},t.xi=function(){return t.x+5*t.PZ},t.xf=function(){return t.x+11*t.PZ},t.yi=function(){return t.y+2*t.PZ},t.yil=function(){return t.y+12*t.PZ},t.yf=function(){return t.y+16*t.PZ},t.AY=function(n){t.vy+=n,t.vy>3*t.PZ&&(t.vy=3*t.PZ)},t.land=function(n){t.LA||t.SA("i"),t.vy=0,t.LA=1,t.CJ=1,t.downed=0,t.y=n-15*t.PZ},t.LE=function(){t.vx-=t.AX,t.LA&&t.SA("r"),t.vx<-t.maxVx&&(t.vx=-t.maxVx),t.DI=0},t.RI=function(){t.vx+=t.AX,t.LA&&t.SA("r"),t.vx>t.maxVx&&(t.vx=t.maxVx),t.DI=1},t.SX=function(){0!=t.vx&&(t.vx=0,t.SA("i"))},t.jump=function(){console.log(t.LA,t.CJ),(t.LA||t.CJ)&&(t.vy=3*-t.PZ,t.LA||(t.CJ=0),t.LA=0,t.SA("j"))},t.down=function(){t.downed||(t.vy+=3*r-1,t.downed=1)},t.up=function(){},t.PD=function(){t.fall(),t.x+=t.vx},t.PX=function(){t.x+=t.vx},t.DC=function(){o.fillStyle=t.CR;for(var n=0;n<t.D.length;n++){var e=15&t.D[n];o.fillRect(t.x+(t.DI?e:15-e)*t.PZ,t.y+(t.D[n]>>4)*t.PZ,t.PZ,t.PZ)}},t.SA=function(n){if(t.CA!=n){t.CA=n,t.FR=[];var e=h[n].f;for(t.BA=s(D(h[n].kf)),f=0;f<e.length;f++){var i=S[e[f]];if(-1==e[f])return t.IF=t.FR.length,t.FR.push("i");t.addFrame(D(i))}}}},D=function(n){for(var t=0,e=n[t],i=[];e;){var f=85;"{"==e[0]&&(e=n[++t],f=0),"~"==e[0]&&(e=n[++t],f=170),i.push(e.charCodeAt()+f-33),e=n[++t]}return i},I=function(n,t,e){var i=this;i.x=n,i.y=t,i.width=e,i.collide=0,i.CO=function(){(R.xi()>i.x&&R.xi()<i.x+i.width||R.xf()>i.x&&R.xf()<i.x+i.width)&&i.y>R.yil()&&i.y+5<R.yf()&&R.vy>=0?(i.collide=1,R.land(t)):i.collide=0},i.draw=function(){o.fillStyle=i.collide?"#F00":"#66F",o.fillRect(i.x,i.y,i.width,5)}},P=D(d),R=new w(P),p=[];R.SA("i");var F=[25,115,205,295],L=function(){var n=this;n.D=D(A),n.S=new w(n.D),n.outside=0,n.S.CR=R.CR,n.S.x=R.x+24,n.S.y=R.y,n.S.PZ=2,n.S.vx=R.DI?8:-8,n.S.DI=R.DI,n.PX=function(){n.S.PX(),n.outside=n.S.x>1e3||n.S.x<-10}},m=function(n){var t=this;t.S=n,t.EL=0,t.CO=16,t.CC=F[t.EL],t.S.CR="hsl("+t.CC+",100%, 50%)",t.IC=0,t.next=function(){++t.EL>3&&(t.EL=0),t.IC=5,C-=16},t.prev=function(){--t.EL<0&&(t.EL=3),C-=64,t.IC=-5},t.power=function(){t.CO<=0&&(t.S.SA("p"),p.push(new L(0,2)),t.CO=16)},t.PD=function(){t.CC+=t.IC,t.CC<0&&(t.CC=355),t.CC>355&&(t.CC=5),t.CC!=F[t.EL]?t.S.CR="hsl("+t.CC+",100%, 50%)":t.IC=0,--t.CO<0&&(t.CO=0)},t.manage=function(){16&C&&t.next(),64&C&&t.prev(),8&C&&t.S.down(),2&C&&t.S.up(),128&C&&(t.S.jump(),C^=128),32&C&&t.power(),1&C?t.S.LE():4&C?t.S.RI():t.S.SX()}};P=D(A);var E=new w(P);E.CR="#E60";var Z=new m(R),g=[];g.push(new I(12,400,240)),g.push(new I(600,400,240)),g.push(new I(320,336,240)),g.push(new I(120,520,60)),g.push(new I(150,500,240)),E.PZ=4,R.PZ=5;var B=0;requestAnimationFrame(t)}();