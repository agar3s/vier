!function(){function n(){a.clearRect(-c.x,c.y,y.w,y.h)}function t(){for(n(),X.drawLevel(),X.CO(),O.DC(),L.AY(.8),L.PD(),B.PD(),i=0;i<k.length;i++)k[i].draw(),k[i].CO();for(var e=m.length-1;e>=0;e--)m[e].PX(),m[e].S.DC(),V%4==0&&m[e].animate(),m[e].outside&&m.splice(e,1);V%8==0&&(O.RO(),V=0),O.PX(),L.DC(),B.manage(),V%2==0&&L.animate(),V++,B.S.x>300+c.x&&B.S.x-300<2400?(c.x-=B.S.vx,xxx=-B.S.vx):xxx=0,B.S.y+200+16*o>c.y+y.h&&B.S.vy>0||B.S.y-200<c.y&&B.S.vy<0?(c.y+=B.S.vy,yyy=-B.S.vy):yyy=0,a.translate(xxx,yyy),requestAnimationFrame(t)}var e=document;e.get=e.getElementById;var i,r,f=e.get("c"),a=f.getContext("2d"),o=4,u=16,v=15,y={w:1024,h:720},c={x:0,y:-720},x=0,C={37:1,38:2,39:4,40:8,65:16,83:32,68:64,32:128};e.addEventListener("keydown",function(n){var t=n.keyCode?n.keyCode:n.which;C[t]&&(x|=C[t],n.preventDefault())}),e.addEventListener("keyup",function(n){var t=n.keyCode?n.keyCode:n.which;x&C[t]&&(x^=C[t],n.preventDefault())});var d="{f{g{h{i{u!$%056?@ABFORV`bcefostu~,",S='{H{I{X{Y"#$134ACEQSVacdsu~.~1~=~@~M~P~]~^~`~a',l='{I{J{Y{Z"#$134ACERSVcdsu~.~0~=~?~M~O~]~^~_~`',A='{Y{Z{i{j"#$134ACDESVWbcdqru~)~*~+~0~9~A~Q~a~b',h="{Z{[{g{h{i{j{k!#$134ACESTcesu~-~0~=~?~L~O~\\~_",w=["",'~A~>~0tqfUD2{i{h~@~=~1udVE1$#"{I{H',"B65VREA","~@~>tD2('&%{m{j{i~?~=udB651\"{J{I","~_~P~O~J~;~:~,tUB~b~a~Q~9~+~*~)uqWEA",'~`~M~?~>~=~/T2{k{[~P~J~A~;~:~0~,rdbVB1"{i{Y'],s={i:{kf:S,f:[0,0,0,0,0,0,0,0,0,1]},p:{kf:l,f:[2,3,3,2,0,-1]},r:{kf:A,f:[0,4,0,5,0,5,0,4,0]},j:{kf:h,f:[0]}},D=function(n){for(var t=new Int16Array(u),e=0;e<n.length;e++)t[n[e]>>4]|=1<<v-(15&n[e]);return t},I=function(n){var t=this;t.BA=new Int16Array(u),t.D=n,t.FR=[],t.IF=0,t.CR="#000",t.x=0,t.y=-720,t.vx=0,t.vy=0,t.downed=0,t.DI=1,t.LA=0,t.BA=D(t.D),t.maxVx=2.5*o,t.AX=.5,t.PZ=o,t.RO=function(){for(var n=[],e=0;u>e;e++)for(var i=0;u>i;i++)t.BA[e]&1<<v-i&&n.push(i*u+v-e);t.D=n,t.BA=D(n)},t.addFrame=function(n){t.FR.push(D(n)),t.IF=t.FR.length-1},t.fall=function(){t.y+=t.vy,t.vy<0&&(t.LA=0)},t.animate=function(){if(++t.IF>=t.FR.length&&(t.IF=0),"string"==typeof t.FR[t.IF])return t.SA(t.FR[t.IF]);for(var n=[],e=0;u>e;e++){t.BA[e]=t.BA[e]^t.FR[t.IF][e];for(var i=0;u>i;i++)1<<v-i&t.BA[e]&&n.push(e*u+i)}t.D=n},t.xi=function(){return t.x+5*t.PZ},t.xf=function(){return t.x+11*t.PZ},t.yi=function(){return t.y+2*t.PZ},t.yil=function(){return t.y+12*t.PZ},t.yf=function(){return t.y+16*t.PZ},t.AY=function(n){t.vy+=n,t.vy>3*t.PZ&&(t.vy=3*t.PZ)},t.land=function(n){t.LA||t.SA("i"),t.vy=0,t.LA=1,t.CJ=1,t.downed=0,t.y=n-15*t.PZ},t.LE=function(){t.vx-=t.AX,t.LA&&t.SA("r"),t.vx<-t.maxVx&&(t.vx=-t.maxVx),t.DI=0},t.RI=function(){t.vx+=t.AX,t.LA&&t.SA("r"),t.vx>t.maxVx&&(t.vx=t.maxVx),t.DI=1},t.SX=function(){0!=t.vx&&(t.vx=0,t.SA("i"))},t.jump=function(){(t.LA||t.CJ)&&(t.vy=3*-t.PZ,t.LA||(t.CJ=0),t.LA=0,t.SA("j"))},t.down=function(){t.downed||(t.vy+=3*o-1,t.downed=1)},t.up=function(){},t.PD=function(){t.fall(),t.x+=t.vx},t.PX=function(){t.x+=t.vx},t.DC=function(){a.fillStyle=t.CR;for(var n=0;n<t.D.length;n++){var e=15&t.D[n];a.fillRect(t.x+(t.DI?e:15-e)*t.PZ,t.y+(t.D[n]>>4)*t.PZ,t.PZ,t.PZ)}},t.SA=function(n){if(t.CA!=n){t.CA=n,t.FR=[];var e=s[n].f;for(t.BA=D(P(s[n].kf)),r=0;r<e.length;r++){var i=w[e[r]];if(-1==e[r])return t.IF=t.FR.length,t.FR.push("i");t.addFrame(P(i))}}}},P=function(n){for(var t=0,e=n[t],i=[];e;){var r=85;"{"==e[0]&&(e=n[++t],r=0),"~"==e[0]&&(e=n[++t],r=170),i.push(e.charCodeAt()+r-33),e=n[++t]}return i},R=function(n,t,e){var i=this;i.x=n,i.y=t,i.width=e,i.collide=0,i.CO=function(){(L.xi()>i.x&&L.xi()<i.x+i.width||L.xf()>i.x&&L.xf()<i.x+i.width)&&i.y>L.yil()&&i.y+5<L.yf()&&L.vy>=0?(i.collide=1,L.land(t)):i.collide=0},i.draw=function(){a.fillStyle=i.collide?"#F00":"#66F",a.fillRect(i.x,i.y,i.width,5)}},p=function(){var n=this;n.w=3200,n.h=3200;var t=32;n.generateLevel=function(){for(var e=0;3200>e;e+=1*t){var i=(e%(2*Math.PI),-e/2+60*Math.tan(e));n.h=i<n.h?i:n.h,k.push(new R(e,i,32))}},n.generateLevel(),n.CO=function(){},n.drawLevel=function(){}},F=P(S),L=new I(F),m=[];L.SA("i");var E=[25,115,205,295],Z=function(n){var t=this;t.type=n,0==t.type&&(t.D=P(d)),1==t.type&&(t.D=P(water)),t.S=new I(t.D),t.outside=0,t.S.CR=L.CR,t.S.x=L.x+24,t.S.y=L.y,t.S.PZ=2,t.S.vx=L.DI?9:-9,t.S.DI=L.DI,t.PX=function(){t.S.PX(),t.outside=t.S.x>3200||t.S.x<-10},t.animate=function(){0==t.type&&t.S.RO(),1==t.type&&t.S.RO()}},g=function(n){var t=this;t.S=n,t.EL=0,t.CO=16,t.CC=E[t.EL],t.S.CR="hsl("+t.CC+",100%, 50%)",t.IC=0,t.next=function(){++t.EL>3&&(t.EL=0),t.IC=5,x-=16},t.prev=function(){--t.EL<0&&(t.EL=3),x-=64,t.IC=-5},t.power=function(){t.CO<=0&&(t.S.SA("p"),m.push(new Z(0,2)),t.CO=16)},t.PD=function(){t.CC+=t.IC,t.CC<0&&(t.CC=355),t.CC>355&&(t.CC=5),t.CC!=E[t.EL]?t.S.CR="hsl("+t.CC+",100%, 50%)":t.IC=0,--t.CO<0&&(t.CO=0)},t.manage=function(){16&x&&t.next(),64&x&&t.prev(),8&x&&t.S.down(),2&x&&t.S.up(),128&x&&(t.S.jump(),x^=128),32&x&&t.power(),1&x?t.S.LE():4&x?t.S.RI():t.S.SX()}};F=P(d);var O=new I(F);O.CR="#E60";var B=new g(L),k=[];O.PZ=4,L.PZ=5;var V=0,X=new p;a.scale(1,1),a.translate(c.x,-c.y),requestAnimationFrame(t)}();